<!-- Lightbox overlay -->
<div class="lightbox" id="lightbox" hidden>
  <button class="lightbox-close" type="button">&times;</button>
  <img class="lightbox-img" id="lightbox-img" src="" alt="" />
</div>
<script>
(function(){
  var triggers = document.querySelectorAll('.lightbox-trigger');
  if (!triggers.length) return;
  var lb = document.getElementById('lightbox');
  var img = document.getElementById('lightbox-img');
  triggers.forEach(function(el){
    el.addEventListener('click', function(){
      img.src = el.dataset.full;
      img.alt = el.querySelector('img') ? el.querySelector('img').alt : '';
      lb.hidden = false;
      document.body.style.overflow = 'hidden';
    });
  });
  function close(){
    lb.hidden = true;
    img.src = '';
    document.body.style.overflow = '';
  }
  lb.addEventListener('click', function(e){
    if (e.target === lb || e.target.classList.contains('lightbox-close')) close();
  });
  document.addEventListener('keydown', function(e){
    if (e.key === 'Escape' && !lb.hidden) close();
  });
})();
</script>
